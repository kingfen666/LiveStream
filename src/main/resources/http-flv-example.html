<html>

<head>
    <title>FlvTest</title>

</head>

<script src="https://cdn.bootcdn.net/ajax/libs/flv.js/1.5.0/flv.min.js"></script>

<body>
    <video id="videoElement" height="100%" width="100%" muted="muted" controls></video>



</body>


<script>
    const searchParams = new URLSearchParams(location.search);
    const params = {};
    for (const [key, value] of searchParams) {
        params[key] = value;
    }
    console.log(params);  // { param1: "value1", param2: "value2" }
    let flvPlayer;
    if (flvjs.isSupported()) {
            var videoElement = document.getElementById('videoElement');
            console.log("videoElement:" + videoElement);
            flvPlayer = flvjs.createPlayer({
                type: 'flv',
                isLive: true,
                url: "http://192.168.31.107:8080",
                duration: 0,
                filesize: 0,
                enableStashBuffer: false,
                hasAudio: true,
                hasVideo: true
            });
            flvPlayer.attachMediaElement(videoElement);
            flvPlayer.load();}



    flvPlayer.play();

</script>

</html>